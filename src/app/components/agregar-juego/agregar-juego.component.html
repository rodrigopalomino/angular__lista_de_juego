<app-navbar></app-navbar>

<div class="container">
  <p class="h1 mt-3">Agregar Juego</p>

  <form [formGroup]="form" (ngSubmit)="submit()" class="mt-5">
    <!--Nombre-->
    <div class="mb-3 row">
      <label for="nombre" class="col-sm-2 col-form-label">Nombre : </label>
      <div class="col-sm-10">
        <input
          type="text"
          id="nombre"
          formControlName="nombre"
          class="form-control"
        />
        <small> {{ nombreValid }}</small>
      </div>
    </div>

    <!--Imagen-->
    <div class="mb-3 row">
      <label for="imagen" class="col-sm-2 col-form-label">Imagen : </label>
      <div class="col-sm-10">
        <input
          type="text"
          id="imagen"
          formControlName="imagen"
          class="form-control"
        />
        <small>{{ imagenValid }}</small>
      </div>
    </div>

    <div
      class="d-flex justify-content-center align-items-center mb-4"
      style="height: 400px"
    >
      <img
        class="img-fluid h-100"
        [src]="
          form.get('imagen')?.value
            ? form.get('imagen')?.value
            : 'https://pcgamer.com.uy/wp-content/uploads/2022/10/producto-sin-imagen.png'
        "
      />
    </div>

    <div class="mb-3 row">
      <label for="precio" class="col-sm-2 col-form-label">Precio : </label>
      <div class="col-sm-10">
        <input
          type="text"
          id="precio"
          formControlName="precio"
          class="form-control"
        />
        <small>{{ precioValid }}</small>
      </div>
    </div>

    <!--Desarrolladora-->
    <div class="mb-3 row">
      <label for="desarrolladora" class="col-sm-2 col-form-label"
        >Desarrolladora :
      </label>
      <div class="col-sm-10">
        <input
          type="text"
          id="desarrolladora"
          formControlName="desarrolladora"
          class="form-control"
        />
        <small>{{ desarrolladoraValid }}</small>
      </div>
    </div>

    <!--Descripcion-->
    <div class="mb-3 row">
      <label for="descripcion" class="col-sm-2 col-form-label"
        >Descripcion :
      </label>
      <div class="col-sm-10">
        <textarea
          rows="3"
          id="descripcion"
          formControlName="descripcion"
          class="form-control"
        ></textarea>
        <small>{{ descripcionValid }}</small>
      </div>
    </div>

    <!--Genero-->
    <div class="mb-3 row">
      <label class="col-sm-2 col-form-label">Generos : </label>
      <div class="col-sm-10">
        <div class="row px-2">
          @if(generos){@for (genero of generos; track genero.genero_id){

          <div class="form-check col-auto">
            <input
              type="checkbox"
              id="{{ genero.genero_id }}"
              (change)="clickCheckBoxGeneros(genero.genero_id)"
              class="form-check-input"
            />
            <label for="{{ genero.genero_id }}" class="form-check-label">{{
              genero.genero
            }}</label>
          </div>

          }}
          <small>{{ generosValid }}</small>
        </div>
      </div>
    </div>

    <!--Consolas-->
    <div class="mb-3 row">
      <label class="col-sm-2 col-form-label">Consolas</label>

      <div class="col-sm-10">
        <div class="row border rounded-1 px-2">
          @if(consolas){@for (consola of consolas; track consola.consola_id) {

          <div class="form-check col-auto">
            <input
              type="checkbox"
              id="{{ consola.consola }}"
              (click)="clickCheckBoxConsolas(consola.consola_id)"
              class="form-check-input"
            />
            <label for="{{ consola.consola }}">{{ consola.consola }}</label>
          </div>
          }}
          <small>{{ consolasValid }}</small>
        </div>
      </div>
    </div>

    <div class="d-flex justify-content-end mt-5">
      <button class="btn btn-primary">Agregar</button>
    </div>
  </form>
</div>

<!--
Extra Pequeño	Ninguno	<576px
Pequeño	sm	≥576px
Medio	md	≥768px
Grande	lg	≥992px
Extra grande	xl	≥1200px
Extra extra grande	xxl	≥1400px
-->

@if (form.get('generos')!.hasError('required')) {
<div>El nombre es obligatorio.</div>
}
